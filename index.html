<!DOCTYPE html>
<html>
<head>
	<title>Web Shell</title>
	<link rel="stylesheet" href="http://cdn.amazeui.org/amazeui/2.4.1/css/amazeui.min.css"/>
	<link rel="stylesheet" href="/style.css">
</head>
<body>
<div class="am-g" style="height: 100%">
	<div class="am-u-sm-1" style="margin-top: 20px">
		<ul class="am-list">
			<li><a href="/tutorial/0">开始Shell编程！</a></li>
			<li><a href="/tutorial/1">变量</a></li>
			<li><a href="/tutorial/2">条件和分支</a></li>
			<li><a href="/tutorial/3">循环</a></li>
			<li><a href="/tutorial/4">函数</a></li>
			<li><a href="/tutorial/5">命令</a></li>
			<li><a href="/tutorial/6">重定向和管道</a></li>
		</ul>
	</div>
	<div class="am-u-sm-6" style="height: 100%">
		<div class="am-scrollable-vertical" style="height: 100%">
			{% autoescape None %}
			{{ tutorial_content }}
		</div>
	</div>
	<div class="am-u-sm-5" style="height: 100%">
		<div class="am-g" style="height: 50%; word-wrap: break-word">
			<div class="am-scrollable-vertical shell" style="height: 100%; max-width: 100%">
				<span id="shell"></span><span id="cursor">&nbsp;</span>
			</div>
		</div>
		<div class="am-g" style="height: 50%">
			<form class="am-form" action="/save" method="post" style="height: 100%">
				{% if file_edit %}
				<label for="file_editor" hidden="hidden"></label>
				<textarea id="file_editor" name="file_content" style="height: 90%"></textarea>
				<input type="submit"/>
				{% end %}
			</form>
		</div>
	</div>
</div>
<script src="/jquery-2.1.4.min.js"></script>
<script src="/shell.js"></script>
<script type="text/javascript">
	document.onkeydown = check;
	function check(e) {
		var code;
		if (!e) var e = window.event;
		if (e.keyCode) code = e.keyCode;
		else if (e.which) code = e.which;
		if (((event.keyCode == 8) &&
			((event.srcElement.type != "text" &&
			event.srcElement.type != "textarea" &&
			event.srcElement.type != "password") ||
			event.srcElement.readOnly == true))
		) {
			event.keyCode = 0;
			event.returnValue = false;
		}
		return true;
	}
</script>
</body>
</html>
